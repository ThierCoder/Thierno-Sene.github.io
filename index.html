<!--
FICHIER: index.html (version complète et mise à jour)
INSTRUCTIONS :
1) Dépose ce fichier à la racine de ton repo GitHub Pages (par ex. thiernosene.github.io/index.html).
2) Crée les dossiers : /assets/img/ et /assets/cv/ et y place les fichiers référencés.
3) Crée les pages projets dans /projects/ (ex: projects/airfoil-hllc.html, projects/reactor-study.html).
4) Configure le formulaire Formspree (ou Netlify Forms) en remplaçant l'URL de action.
5) Personnalise l'objet `site` ci-dessous (nom, réseaux, projets, chemins, textes FR/EN).

Description : Ce fichier fournit :
- Header/hero (photo + présentation côte-à-côte)
- Grille de projets (chaque carte pointe vers une page dédiée dans /projects/)
- Onglet CV (liens FR/EN)
- Formulaire de contact (Formspree placeholder)
- Switch langue FR/EN (client-side)
- Styles responsives et accessibles
-->

<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Portfolio CFD — Thierno</title>
  <meta name="description" content="Portfolio CFD — projets, code, visualisations, OpenFOAM, HPC">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#071022;--card:#071425;--muted:#9aa4b2;--accent:#4f46e5;--glass:rgba(255,255,255,0.03);--radius:14px;--maxw:1100px;--gap:18px;--ff:'Inter',system-ui, -apple-system, 'Segoe UI', Roboto}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:var(--ff);background:linear-gradient(180deg,#041026 0%,#071827 100%);color:#e6eef8;line-height:1.45}
    .wrap{max-width:var(--maxw);margin:28px auto;padding:22px}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .avatar{width:60px;height:60px;border-radius:12px;overflow:hidden;background:var(--glass);display:flex;align-items:center;justify-content:center}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .brand h1{font-size:18px;margin:0}
    nav a{color:var(--muted);text-decoration:none;margin-left:14px;font-weight:600}
    nav a:hover{color:var(--accent)}

    /* HERO */
    .hero{display:grid;grid-template-columns:1fr 1fr;gap:22px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:18px;margin-bottom:22px}
    .hero .photo{border-radius:12px;overflow:hidden;min-height:240px;background:#0a1220;display:flex;align-items:center;justify-content:center}
    .hero .photo img{width:100%;height:100%;object-fit:cover}
    .intro{padding:6px}
    .intro h2{margin:0 0 8px 0;font-size:26px}
    .intro p{color:var(--muted);margin-top:6px}
    .socials{display:flex;gap:12px;margin-top:12px}
    .socials a{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;background:var(--glass);color:var(--muted);text-decoration:none;font-weight:600}

    /* PROJECTS */
    section h2{font-size:20px;margin:0 0 12px 0}
    .project-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--gap);}
    .project-card{display:block;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:0;border-radius:12px;overflow:hidden;text-decoration:none;color:inherit;transition:transform .18s}
    .project-card:hover{transform:translateY(-6px)}
    .project-card img{width:100%;height:160px;object-fit:cover;display:block}
    .project-card .body{padding:12px}
    .project-card h3{margin:0 0 6px 0;font-size:16px}
    .project-card p{margin:0;color:var(--muted);font-size:13px}

    /* CV */
    .cv-block{display:flex;gap:18px;align-items:flex-start;background:var(--glass);padding:14px;border-radius:12px}
    .cv-block a{background:var(--accent);color:white;padding:10px 14px;border-radius:10px;text-decoration:none}

    /* CONTACT */
    .contact{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:14px;border-radius:12px}
    .contact form{display:grid;gap:8px}
    input,textarea,button,select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    button{background:var(--accent);border:none;color:white;font-weight:700}

    footer{margin-top:26px;color:var(--muted);font-size:13px;text-align:center}

    @media (max-width:900px){.hero{grid-template-columns:1fr}.project-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.project-grid{grid-template-columns:1fr}.brand h1{display:none}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="avatar"><img id="avatar-img" src="assets/img/photo.jpg" alt="Photo"></div>
        <div>
          <h1 id="site-name">Thierno Sène</h1>
          <div id="site-sub" style="color:var(--muted);font-size:13px">CFD • HPC • OpenFOAM</div>
        </div>
      </div>

      <nav>
        <a href="#home" data-i18n="nav.home">Accueil</a>
        <a href="#projects" data-i18n="nav.projects">Projets</a>
        <a href="#cv" data-i18n="nav.cv">CV</a>
        <a href="#contact" data-i18n="nav.contact">Contact</a>
        <button id="lang-toggle" style="margin-left:12px;padding:8px 10px;border-radius:8px;background:var(--glass);border:none;color:var(--muted);font-weight:700">EN</button>
      </nav>
    </header>

    <main id="home">
      <section class="hero">
        <div class="photo"><img src="assets/img/cover_flow.jpg" alt="Flow visualization"></div>
        <div class="intro">
          <h2 data-i18n="hero.title">Bonjour — je suis <span id="author-name">Thierno Sène</span></h2>
          <p data-i18n="hero.desc">Je travaille en CFD, modélisation de la turbulence, simulation haute performance et OpenFOAM. Sur ce site je publie des projets avec code, visualisations et analyses.</p>
          <div class="socials" id="socials"></div>
        </div>
      </section>

      <!-- Projects grid (generated from JS) -->
      <section id="projects" style="margin-top:20px">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
          <h2 data-i18n="projects.title">Projets</h2>
          <div style="color:var(--muted);font-size:13px" data-i18n="projects.subtitle">Clique une carte pour ouvrir la page du projet</div>
        </div>
        <div class="project-grid" id="projects-grid">
          <!-- Project cards injected by JS -->
        </div>
      </section>

      <!-- CV -->
      <section id="cv" style="margin-top:22px">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
          <h2 data-i18n="cv.title">CV</h2>
        </div>
        <div class="cv-block">
          <div style="flex:1">
            <strong data-i18n="cv.summary">Formation & Expérience</strong>
            <p style="color:var(--muted);margin-top:8px" data-i18n="cv.desc">Master en Mécanique des Fluides & Énergétique — Ajoute tes établissements et dates ici. Quelques points sur tes rôles pertinents.</p>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
            <a id="download-fr" href="assets/cv/CV_Thierno_FR.pdf" download data-i18n="cv.downloadFR">Télécharger CV (FR)</a>
            <a id="download-en" href="assets/cv/CV_Thierno_EN.pdf" download data-i18n="cv.downloadEN">Download CV (EN)</a>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section id="contact" style="margin-top:22px">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
          <h2 data-i18n="contact.title">Contact</h2>
        </div>
        <div class="contact">
          <form id="contact-form" action="https://formspree.io/f/your_form_id" method="POST">
            <input type="text" name="name" placeholder="Nom" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="text" name="subject" placeholder="Sujet">
            <textarea name="message" placeholder="Message" rows="6" required></textarea>
            <button type="submit" data-i18n="contact.send">Envoyer</button>
            <div id="form-result" style="color:var(--muted);font-size:13px;margin-top:8px"></div>
          </form>
          <div style="color:var(--muted);font-size:13px;margin-top:12px">Note: GitHub Pages ne gère pas le code côté serveur. Utilise Formspree, Netlify Forms ou EmailJS.</div>
        </div>
      </section>

    </main>

    <footer>
      <div>Built with ❤️ — École Centrale de Lyon</div>
    </footer>
  </div>

  <script>
    // Site metadata (modifie ici tes infos)
    const site = {
      name: 'Thierno Sène',
      subtitle: 'CFD • HPC • OpenFOAM',
      socials: [
        {name:'GitHub', url:'https://github.com/Thierno'},
        {name:'LinkedIn', url:'https://www.linkedin.com/in/tonprofil'},
        {name:'YouTube', url:'https://youtube.com/taChaine'}
      ],
      projects: [
        { id:'airfoil-hllc', title:'Airfoil HLLC study', cover:'assets/img/project_airfoil.jpg', short:'HLLC scheme comparison for compressible flow around an aerofoil', page:'Assets/projects/reacteurChimique.html' },
        { id:'reactor-study', title:'Hydrodynamic Reactor Study', cover:'assets/img/project_reactor.jpg', short:'Simulation of fluid flow inside a chemical reactor', page:'Assets/projects/reacteurChimique.html' }
      ]
    };

    // i18n text
    const i18n = {
      fr: {
        'nav.home':'Accueil','nav.projects':'Projets','nav.cv':'CV','nav.contact':'Contact',
        'hero.title':'Bonjour — je suis <span id="author-name">'+site.name+'</span>','hero.desc':'Je travaille en CFD, modélisation de la turbulence, simulation haute performance et OpenFOAM. Sur ce site je publie des projets avec code, visualisations et analyses.',
        'projects.title':'Projets','projects.subtitle':'Clique une carte pour ouvrir la page du projet',
        'cv.title':'CV','cv.summary':'Formation & Expérience','cv.desc':'Master en Mécanique des Fluides & Énergétique — Ajoute tes établissements et dates ici. Quelques points sur tes rôles pertinents.','cv.downloadFR':'Télécharger CV (FR)','cv.downloadEN':'Télécharger CV (EN)',
        'contact.title':'Contact','contact.send':'Envoyer'
      },
      en: {
        'nav.home':'Home','nav.projects':'Projects','nav.cv':'CV','nav.contact':'Contact',
        'hero.title':'Hello — I\'m <span id="author-name">'+site.name+'</span>','hero.desc':'I work on CFD, turbulence modelling, high-performance simulation and OpenFOAM. On this site I publish projects with code, visualizations and analysis.',
        'projects.title':'Projects','projects.subtitle':'Click a card to open the project page',
        'cv.title':'CV','cv.summary':'Education & Experience','cv.desc':'Master in Fluid Mechanics & Energetics — Add your institutions and dates here. Brief bullets of relevant roles.','cv.downloadFR':'Download CV (FR)','cv.downloadEN':'Download CV (EN)',
        'contact.title':'Contact','contact.send':'Send message'
      }
    };

    // Render socials
    const socialsNode = document.getElementById('socials');
    site.socials.forEach(s => {
      const a = document.createElement('a'); a.href = s.url; a.target='_blank'; a.rel='noopener'; a.innerText = s.name; socialsNode.appendChild(a);
    });

    // Render project cards linking to project pages
    const grid = document.getElementById('projects-grid');
    site.projects.forEach(p => {
      const a = document.createElement('a'); a.className='project-card'; a.href = p.page;
      a.innerHTML = `<img src="${p.cover}" alt="${p.title}"><div class='body'><h3>${p.title}</h3><p>${p.short}</p></div>`;
      grid.appendChild(a);
    });

    // Language switcher
    const langBtn = document.getElementById('lang-toggle');
    let lang = 'fr';
    function setLang(l){
      lang = l;
      document.documentElement.lang = (l==='en') ? 'en' : 'fr';
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if(i18n[l] && i18n[l][key]) el.innerHTML = i18n[l][key];
      });
      // update toggle label
      langBtn.innerText = (l==='en') ? 'FR' : 'EN';
    }
    langBtn.addEventListener('click', ()=> setLang(lang==='fr' ? 'en' : 'fr'));
    setLang('fr');

    // Contact form (fetch to Formspree)
    const form = document.getElementById('contact-form');
    const result = document.getElementById('form-result');
    form.addEventListener('submit', async e => {
      e.preventDefault();
      const data = new FormData(form);
      result.innerText = 'Envoi...';
      try{
        const res = await fetch(form.action, {method:'POST', body:data, headers:{'Accept':'application/json'}});
        if(res.ok){ result.innerText = 'Message envoyé — merci.'; form.reset(); }
        else { const json = await res.json(); result.innerText = json.error || 'Erreur lors de l\'envoi.' }
      }catch(err){ result.innerText = 'Erreur lors de l\'envoi — vérifie le endpoint.' }
    });

  </script>
</body>
</html>
